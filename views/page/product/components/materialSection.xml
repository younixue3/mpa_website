<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="material_product_section" name="Material Product Section">
<div>
    <div id="product-carousel" class="relative w-full" data-carousel="slide">
        <!-- Carousel wrapper -->
        <div class="relative h-[392px] overflow-hidden rounded-lg">
            <!-- Item 1 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item="">
                <img src="/mpa_website/static/src/img/pasircuci.jpeg" 
                    alt="Pasir Cuci" 
                    loading="lazy"
                    class="w-full h-[392px] object-cover object-center"/>
            </div>
            <!-- Item 2 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item="">
                <img src="/mpa_website/static/src/img/abubatumin.webp" 
                    alt="Abu Batu" 
                    loading="lazy"
                    class="w-full h-[392px] object-cover object-center"/>
            </div>
            <!-- Item 3 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item="">
                <img src="/mpa_website/static/src/img/agregatamin.webp" 
                    alt="Agregat A" 
                    loading="lazy"
                    class="w-full h-[392px] object-cover object-center"/>
            </div>
            <!-- Item 4 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item="">
                <img src="/mpa_website/static/src/img/agregatbmin.webp" 
                    alt="Agregat B" 
                    loading="lazy"
                    class="w-full h-[392px] object-cover object-center"/>
            </div>
        </div>
        <!-- Slider indicators -->
        <div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse">
            <button type="button" class="w-3 h-3 rounded-full bg-mpa-primary/50" aria-current="true" aria-label="Slide 1" data-carousel-slide-to="0"></button>
            <button type="button" class="w-3 h-3 rounded-full bg-mpa-primary/50" aria-current="false" aria-label="Slide 2" data-carousel-slide-to="1"></button>
            <button type="button" class="w-3 h-3 rounded-full bg-mpa-primary/50" aria-current="false" aria-label="Slide 3" data-carousel-slide-to="2"></button>
            <button type="button" class="w-3 h-3 rounded-full bg-mpa-primary/50" aria-current="false" aria-label="Slide 4" data-carousel-slide-to="3"></button>
        </div>
        <!-- Slider controls -->
        <button type="button" class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev="">
            <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-mpa-primary/30 group-hover:bg-mpa-primary/50 group-focus:ring-4 group-focus:ring-mpa-primary group-focus:outline-none">
                <svg class="w-4 h-4 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
                </svg>
                <span class="sr-only">Previous</span>
            </span>
        </button>
        <button type="button" class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next="">
            <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-mpa-primary/30 group-hover:bg-mpa-primary/50 group-focus:ring-4 group-focus:ring-mpa-primary group-focus:outline-none">
                <svg class="w-4 h-4 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                </svg>
                <span class="sr-only">Next</span>
            </span>
        </button>
    </div>
    <!-- Title Section -->
    <div class="flex">
      <div class="w-1/3 mx-auto bg-mpa-primary text-white p-5">
        <div class="flex relative mt-5">
            <div class="w-full m-auto flex justify-center">
                <div class="w-2/3 flex items-center justify-center z-40">
                    <span id="product-title" class="text-white font-medium text-lg leading-tight">Pasir Cuci</span>
                </div>
            </div>
        </div>
        <p id="product-paragraph" class="mt-2 text-center">
            Pasir cuci kami bebas dari lumpur dan material organik, menjadikannya pilihan utama untuk pekerjaan beton mutu tinggi.
        </p>
      </div>
    </div>
</div>
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        const productTitles = ['Pasir Cuci', 'Abu Batu', 'Agregat A', 'Agregat B'];
        const productTitleElement = document.getElementById('product-title');
        const productCarousel = document.getElementById('product-carousel');
        
        if (!productCarousel) return;
        
        function setProductTitle(productName) {
            if (productTitleElement) {
                productTitleElement.textContent = productName;
            }
        }

        const productItems = productCarousel.querySelectorAll('[data-carousel-item]');
        const productPrevButton = productCarousel.querySelector('[data-carousel-prev]');
        const productNextButton = productCarousel.querySelector('[data-carousel-next]');
        const productIndicators = productCarousel.querySelectorAll('[data-carousel-slide-to]');
        let productCurrentIndex = 0;
        let productAutoplayInterval;

        const productParagraphs = [
            "Pasir cuci kami bebas dari lumpur dan material organik, menjadikannya pilihan utama untuk pekerjaan beton mutu tinggi.",
            "Abu batu adalah material halus hasil pengolahan batu yang ideal untuk campuran aspal dan berbagai aplikasi konstruksi lainnya.",
            "Agregat A merupakan material pilihan dengan gradasi yang sempurna untuk pondasi jalan dan konstruksi berat.",
            "Agregat B adalah material ekonomis namun tetap berkualitas untuk berbagai kebutuhan konstruksi ringan.",})        ];ri        
        const productParagraphElement = document.getElementById('product-paragraph');
        
        function showProductItem(productIndex) {
            productItems.forEach(productItem => {
                productItem.classList.remove('block');
                productItem.classList.add('hidden');
            });
            productItems[productIndex].classList.remove('hidden');
            productItems[productIndex].classList.add('block');
            
            productIndicators.forEach((productIndicator, i) => {
                if (i === productIndex) {
                    productIndicator.setAttribute('aria-current', 'true');
                    productIndicator.classList.add('bg-mpa-primary');
                    productIndicator.classList.remove('bg-mpa-primary/50');
                } else {
                    productIndicator.setAttribute('aria-current', 'false');
                    productIndicator.classList.remove('bg-mpa-primary');
                    productIndicator.classList.add('bg-mpa-primary/50');
                }
            });
            
            setProductTitle(productTitles[productIndex]);
            if (productParagraphElement) {
                productParagraphElement.textContent = productParagraphs[productIndex];
            }
        }

        showProductItem(0);

        productIndicators.forEach((productIndicator, productIndex) => {
            productIndicator.addEventListener('click', () => {
                productCurrentIndex = productIndex;
                showProductItem(productCurrentIndex);
                resetProductAutoplay();
            });
        });

        productPrevButton.addEventListener('click', () => {
            productCurrentIndex = (productCurrentIndex - 1 + productItems.length) % productItems.length;
            showProductItem(productCurrentIndex);
            resetProductAutoplay();
        });

        productNextButton.addEventListener('click', () => {
            productCurrentIndex = (productCurrentIndex + 1) % productItems.length;
            showProductItem(productCurrentIndex);
            resetProductAutoplay();
        });
        
        function startProductAutoplay() {
            productAutoplayInterval = setInterval(() => {
                productCurrentIndex = (productCurrentIndex + 1) % productItems.length;
                showProductItem(productCurrentIndex);
            }, 5000);
        }
        
        function resetProductAutoplay() {
            clearInterval(productAutoplayInterval);
            startProductAutoplay();
        }
        
        startProductAutoplay();
        
        productCarousel.addEventListener('mouseenter', () => {
            clearInterval(productAutoplayInterval);
        });
        
        productCarousel.addEventListener('mouseleave', () => {
            startProductAutoplay();
        });
    });
</script>
    </template>
</odoo>