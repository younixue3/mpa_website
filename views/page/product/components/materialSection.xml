<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="material_product_section" name="Material Product Section">
        <!-- Load jQuery and Owl Carousel CDN -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

        <div class="relative mt-10 md:hidden">
            <div class="mb-5 px-5">
                <h1 class="text-4xl font-bold text-center mb-5">Produk Material Lainnya</h1>
            </div>
            <!-- <div id="product-carousel" class="owl-carousel owl-theme hidden md:block">
                <div class="item">
                    <img src="/mpa_website/static/src/img/pasircuci.jpeg" 
                        alt="Pasir Cuci" 
                        loading="lazy"
                        class="w-full h-[392px] object-cover object-center"/>
                </div>
                <div class="item">
                    <img src="/mpa_website/static/src/img/abubatumin.webp" 
                        alt="Abu Batu" 
                        loading="lazy"
                        class="w-full h-[392px] object-cover object-center"/>
                </div>
                <div class="item">
                    <img src="/mpa_website/static/src/img/agregatamin.webp" 
                        alt="Agregat A" 
                        loading="lazy"
                        class="w-full h-[392px] object-cover object-center"/>
                </div>
                <div class="item">
                    <img src="/mpa_website/static/src/img/agregatbmin.webp" 
                        alt="Agregat B" 
                        loading="lazy"
                        class="w-full h-[392px] object-cover object-center"/>
                </div>
            </div> -->

            <div id="product-carousel-mobile" class="owl-carousel owl-theme">
                <div class="item">
                    <img src="/mpa_website/static/src/img/pasircuci.jpeg" 
                        alt="Pasir Cuci" 
                        loading="lazy"
                        class="w-full h-[392px] object-cover object-center"/>
                </div>
                <div class="item">
                    <img src="/mpa_website/static/src/img/abubatumin.webp" 
                        alt="Abu Batu" 
                        loading="lazy"
                        class="w-full h-[392px] object-cover object-center"/>
                </div>
                <div class="item">
                    <img src="/mpa_website/static/src/img/agregatamin.webp" 
                        alt="Agregat A" 
                        loading="lazy"
                        class="w-full h-[392px] object-cover object-center"/>
                </div>
                <div class="item">
                    <img src="/mpa_website/static/src/img/agregatbmin.webp" 
                        alt="Agregat B" 
                        loading="lazy"
                        class="w-full h-[392px] object-cover object-center"/>
                </div>
            </div>

            <!-- Custom Navigation Buttons -->
            <div class="absolute top-1/2 transform -translate-y-1/2 w-full px-4 flex justify-between z-10">
                <button class="owl-prev owl-prev-mobile left-4 inline-flex items-center justify-center w-10 h-10 rounded-full bg-mpa-primary">
                    <svg class="w-4 h-4 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
                    </svg>
                </button>
                <button class="owl-next owl-next-mobile right-4 inline-flex items-center justify-center w-10 h-10 rounded-full bg-mpa-primary">
                    <svg class="w-4 h-4 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="flex md:hidden">
            <div class="md:w-1/3 mx-auto bg-mpa-primary text-white p-5">
                <div class="flex relative mt-5">
                    <div class="w-full m-auto flex justify-center">
                        <div class="w-2/3 flex items-center justify-center z-40">
                            <span id="product-title-mobile" class="text-white font-medium text-lg leading-tight">Pasir Cuci</span>
                        </div>
                    </div>
                </div>
                <p id="product-paragraph-mobile" class="mt-2 text-center">
                    Pasir cuci kami bebas dari lumpur dan material organik, menjadikannya pilihan utama untuk pekerjaan beton mutu tinggi.
                </p>
            </div>
        </div>

        <script type="text/javascript">
            $(document).ready(function(){
                const productTitles = ['Pasir Cuci', 'Abu Batu', 'Agregat A', 'Agregat B'];
                const productParagraphs = [
                    "Pasir cuci kami bebas dari lumpur dan material organik, menjadikannya pilihan utama untuk pekerjaan beton mutu tinggi.",
                    "Abu batu adalah material halus hasil pengolahan batu yang ideal untuk campuran aspal dan berbagai aplikasi konstruksi lainnya.",
                    "Agregat A merupakan material pilihan dengan gradasi yang sempurna untuk pondasi jalan dan konstruksi berat.",
                    "Agregat B adalah material ekonomis namun tetap berkualitas untuk berbagai kebutuhan konstruksi ringan."
                ];

                <!-- const owl = $("#product-carousel").owlCarousel({
                    items: 3,
                    loop: true,
                    autoplay: true,
                    autoplayTimeout: 5000,
                    autoplayHoverPause: true,
                    margin: 20,
                    nav: false,
                    dots: true,
                    responsive: {
                        0: {
                            items: 1
                        },
                        768: {
                            items: 2
                        },
                        1024: {
                            items: 3
                        }
                    },
                    onChanged: function(event) {
                        if (event.item) {
                            const currentIndex = event.item.index % productTitles.length;
                            $("#product-title").text(productTitles[currentIndex]);
                            $("#product-paragraph").text(productParagraphs[currentIndex]);
                        }
                    }
                }); -->

                const owl_mobile = $("#product-carousel-mobile").owlCarousel({
                    center: true,
                    items: 1,
                    loop: true,
                    autoplay: true,
                    autoplayTimeout: 5000,
                    autoplayHoverPause: true,
                    drag: false,
                    margin: 20,
                    nav: false,
                    dots: true,
                    responsive: {
                        0: {
                            items: 1
                        },
                        1024: {
                            items: 3
                        }
                    },
                    onChanged: function(event) {
                        if (event.item) {
                            const currentIndex = event.item.index - 2 === 4 ? 0 : event.item.index - 2 === -1 ? 3 : event.item.index - 2;
                            $("#product-title-mobile").text(productTitles[currentIndex]);
                            $("#product-paragraph-mobile").text(productParagraphs[currentIndex]);
                        }
                    }
                });

                <!-- // Custom Navigation Events
                $('.owl-next').click(function() {
                    owl.trigger('next.owl.carousel');
                });
                $('.owl-prev').click(function() {
                    owl.trigger('prev.owl.carousel');
                }); -->

                // Custom Navigation Events Mobile
                $('.owl-next-mobile').click(function() {
                    owl_mobile.trigger('next.owl.carousel');
                });
                $('.owl-prev-mobile').click(function() {
                    owl_mobile.trigger('prev.owl.carousel');
                });
            });
        </script>
    </template>
</odoo>